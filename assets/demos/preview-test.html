<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Texyla Preview Test</title>
    
    <!-- Texyla CSS -->
    <link rel="stylesheet" href="../assets/css/texyla.core.css">
    <link rel="stylesheet" href="../assets/css/texyla.toolbar.css">
    <link rel="stylesheet" href="../assets/css/texyla.preview.css">
    
    <style>
        body { font-family: system-ui; max-width: 800px; margin: 2rem auto; padding: 0 1rem; }
        h1 { color: #2d3748; }
        .test-area { margin: 2rem 0; }
        .instructions { background: #e6fffa; padding: 1rem; border-radius: 0.5rem; margin: 1rem 0; }
        code { background: #f7fafc; padding: 0.125rem 0.375rem; border-radius: 0.25rem; }
    </style>
</head>
<body>
    <h1>ğŸ§ª Texyla Preview Test</h1>
    
    <div class="instructions">
        <strong>TestovÃ¡nÃ­:</strong>
        <ol>
            <li>Zadejte Texy! syntax (<code>**tuÄnÃ©**</code>, <code>*kurzÃ­va*</code>)</li>
            <li>StisknÄ›te <code>Ctrl+P</code> pro zobrazenÃ­ nÃ¡hledu</li>
            <li>NÃ¡hled by se mÄ›l automaticky aktualizovat (debounce 500ms)</li>
            <li>TlaÄÃ­tko ğŸ”„ manuÃ¡lnÄ› obnovÃ­ nÃ¡hled</li>
        </ol>
    </div>
    
    <div class="test-area">
        <h2>Editor s Preview</h2>
        
        <textarea 
            id="previewEditor"
            class="texyla"
            data-context="admin"
            data-texy-available="true"
            data-preview-endpoint="../src/TexylaController.php"
            data-auto-preview="true"
            data-debug="true"
            rows="10"
        ># TestovacÃ­ obsah

Toto je **tuÄnÃ½ text** a toto je *kurzÃ­va*.

Odkaz na [Texy!](https://texy.info).

\`inline kÃ³d\`

> Citace z nÄ›jakÃ©ho zdroje.

- PoloÅ¾ka seznamu 1
- PoloÅ¾ka seznamu 2

\`\`\`
// blok kÃ³du
function hello() {
    return "World";
}
\`\`\`</textarea>
        
        <div style="margin-top: 1rem; font-size: 0.875rem; color: #718096;">
            <strong>KlÃ¡vesovÃ© zkratky:</strong> 
            <code>Ctrl+P</code> - toggle preview, 
            <code>Ctrl+Shift+R</code> - refresh preview
        </div>
    </div>
    
    <script type="module" src="../src/texyla-bundle.js"></script>
    
    <script>
    window.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            const editor = Texyla.getInstance('#previewEditor');
            if (editor) {
                console.log('âœ… Editor loaded:', editor);
                console.log('ğŸ‘ï¸  Preview:', editor.preview);
                
                // Auto-show preview pro test
                setTimeout(() => {
                    if (editor.preview) {
                        editor.preview.setVisible(true);
                    }
                }, 1000);
            }
        }, 500);
    });
    </script>
</body>
</html>